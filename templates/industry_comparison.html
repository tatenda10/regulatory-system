{% extends "base.html" %}
{% load static %}

{% block title %}Industry Comparison - IPEC{% endblock %}

{% block content %}
<div class="p-4 sm:p-6">
    <!-- Page Header -->
    <div class="mb-6">
        <h1 class="text-2xl font-bold text-gray-900 mb-2">Industry Comparison</h1>
        <p class="text-gray-600">Peer Analysis and Industry Benchmarking</p>
    </div>

    <!-- Key Metrics Summary -->
    <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4">
            <div class="flex items-center">
                <div class="p-2 bg-blue-100 rounded-md">
                    <i data-lucide="trending-up" class="w-4 h-4 text-blue-600"></i>
                </div>
                <div class="ml-3">
                    <p class="text-sm text-gray-600">Industry Rank</p>
                    <p class="text-lg font-semibold text-gray-900">#8 of 25</p>
                </div>
            </div>
        </div>
        
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4">
            <div class="flex items-center">
                <div class="p-2 bg-green-100 rounded-md">
                    <i data-lucide="shield-check" class="w-4 h-4 text-green-600"></i>
                </div>
                <div class="ml-3">
                    <p class="text-sm text-gray-600">Solvency Position</p>
                    <p class="text-lg font-semibold text-gray-900">Above Average</p>
                </div>
            </div>
        </div>
        
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4">
            <div class="flex items-center">
                <div class="p-2 bg-yellow-100 rounded-md">
                    <i data-lucide="target" class="w-4 h-4 text-yellow-600"></i>
                </div>
                <div class="ml-3">
                    <p class="text-sm text-gray-600">Performance Score</p>
                    <p class="text-lg font-semibold text-gray-900">78/100</p>
                </div>
            </div>
        </div>
        
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4">
            <div class="flex items-center">
                <div class="p-2 bg-purple-100 rounded-md">
                    <i data-lucide="bar-chart-3" class="w-4 h-4 text-purple-600"></i>
                </div>
                <div class="ml-3">
                    <p class="text-sm text-gray-600">Market Share</p>
                    <p class="text-lg font-semibold text-gray-900">3.2%</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content Grid -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        
        <!-- Benchmarks Across Insurers -->
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
            <div class="flex items-center mb-4">
                <i data-lucide="bar-chart-2" class="w-5 h-5 text-blue-600 mr-2"></i>
                <h2 class="text-lg font-semibold text-gray-900">Benchmarks Across Insurers</h2>
            </div>
            
            <div class="space-y-4">
                <!-- Solvency Ratio Comparison -->
                <div class="bg-blue-50 border border-blue-200 rounded-md p-4">
                    <h4 class="font-medium text-blue-900 mb-3">Solvency Ratio Comparison</h4>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-sm text-blue-700">Your Company</span>
                            <div class="flex items-center">
                                <div class="w-32 bg-gray-200 rounded-full h-2 mr-3">
                                    <div class="bg-blue-500 h-2 rounded-full" style="width: 85%"></div>
                                </div>
                                <span class="text-sm font-medium">147%</span>
                            </div>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-sm text-gray-600">Industry Average</span>
                            <div class="flex items-center">
                                <div class="w-32 bg-gray-200 rounded-full h-2 mr-3">
                                    <div class="bg-gray-500 h-2 rounded-full" style="width: 75%"></div>
                                </div>
                                <span class="text-sm font-medium">132%</span>
                            </div>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-sm text-gray-600">Top Quartile</span>
                            <div class="flex items-center">
                                <div class="w-32 bg-gray-200 rounded-full h-2 mr-3">
                                    <div class="bg-green-500 h-2 rounded-full" style="width: 90%"></div>
                                </div>
                                <span class="text-sm font-medium">158%</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Profitability Comparison -->
                <div class="bg-green-50 border border-green-200 rounded-md p-4">
                    <h4 class="font-medium text-green-900 mb-3">Profitability Comparison</h4>
                    <div class="space-y-2">
                        <div class="flex justify-between text-sm">
                            <span class="text-green-700">Your ROE</span>
                            <span class="font-medium text-green-900">12.5%</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-green-700">Industry Average</span>
                            <span class="font-medium text-gray-600">10.8%</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-green-700">Top Quartile</span>
                            <span class="font-medium text-green-600">15.2%</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-green-700">Your Rank</span>
                            <span class="font-medium text-green-600">#6 of 25</span>
                        </div>
                    </div>
                </div>

                <!-- Market Share Analysis -->
                <div class="bg-purple-50 border border-purple-200 rounded-md p-4">
                    <h4 class="font-medium text-purple-900 mb-3">Market Share Analysis</h4>
                    <div class="space-y-2">
                        <div class="flex justify-between text-sm">
                            <span class="text-purple-700">Your Market Share</span>
                            <span class="font-medium text-purple-900">3.2%</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-purple-700">Industry Leader</span>
                            <span class="font-medium text-gray-600">18.5%</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-purple-700">Growth Rate</span>
                            <span class="font-medium text-green-600">+8.2%</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Outlier Analysis -->
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
            <div class="flex items-center mb-4">
                <i data-lucide="alert-octagon" class="w-5 h-5 text-orange-600 mr-2"></i>
                <h2 class="text-lg font-semibold text-gray-900">Outlier Analysis</h2>
            </div>
            
            <div class="space-y-4">
                <!-- Performance Outliers -->
                <div class="bg-orange-50 border border-orange-200 rounded-md p-4">
                    <h4 class="font-medium text-orange-900 mb-3">Performance Outliers</h4>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="text-sm font-medium text-orange-900">Claims Ratio</div>
                                <div class="text-xs text-orange-700">78% vs Industry 65%</div>
                            </div>
                            <span class="px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full">Outlier</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="text-sm font-medium text-orange-900">Expense Ratio</div>
                                <div class="text-xs text-orange-700">12% vs Industry 15%</div>
                            </div>
                            <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full">Positive</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="text-sm font-medium text-orange-900">Investment Yield</div>
                                <div class="text-xs text-orange-700">4.2% vs Industry 3.8%</div>
                            </div>
                            <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full">Positive</span>
                        </div>
                    </div>
                </div>

                <!-- Risk Outliers -->
                <div class="bg-red-50 border border-red-200 rounded-md p-4">
                    <h4 class="font-medium text-red-900 mb-3">Risk Outliers</h4>
                    <div class="space-y-2">
                        <div class="flex justify-between text-sm">
                            <span class="text-red-700">Credit Risk Exposure</span>
                            <span class="font-medium text-red-900">High</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-red-700">Concentration Risk</span>
                            <span class="font-medium text-yellow-600">Medium</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-red-700">Operational Risk</span>
                            <span class="font-medium text-green-600">Low</span>
                        </div>
                    </div>
                </div>

                <!-- Market Position Outliers -->
                <div class="bg-yellow-50 border border-yellow-200 rounded-md p-4">
                    <h4 class="font-medium text-yellow-900 mb-3">Market Position Outliers</h4>
                    <div class="space-y-2">
                        <div class="flex justify-between text-sm">
                            <span class="text-yellow-700">Premium Growth</span>
                            <span class="font-medium text-green-600">+15% (Top 10%)</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-yellow-700">Customer Retention</span>
                            <span class="font-medium text-yellow-600">85% (Below Average)</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-yellow-700">Digital Adoption</span>
                            <span class="font-medium text-green-600">92% (Top 5%)</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Historical Trends -->
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 lg:col-span-2">
            <div class="flex items-center mb-4">
                <i data-lucide="trending-up" class="w-5 h-5 text-purple-600 mr-2"></i>
                <h2 class="text-lg font-semibold text-gray-900">Historical Trends</h2>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- 5-Year Performance Trend -->
                <div class="bg-purple-50 border border-purple-200 rounded-md p-4">
                    <h4 class="font-medium text-purple-900 mb-3">5-Year Performance Trend</h4>
                    <div class="space-y-3">
                        <div class="text-center">
                            <div class="text-2xl font-bold text-purple-600">+8.2%</div>
                            <div class="text-sm text-purple-700">CAGR Revenue</div>
                        </div>
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between">
                                <span class="text-purple-700">2020</span>
                                <span class="font-medium text-purple-900">€45M</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-purple-700">2021</span>
                                <span class="font-medium text-purple-900">€48M</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-purple-700">2022</span>
                                <span class="font-medium text-purple-900">€52M</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-purple-700">2023</span>
                                <span class="font-medium text-purple-900">€58M</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-purple-700">2024</span>
                                <span class="font-medium text-purple-900">€62M</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Solvency Ratio Trend -->
                <div class="bg-blue-50 border border-blue-200 rounded-md p-4">
                    <h4 class="font-medium text-blue-900 mb-3">Solvency Ratio Trend</h4>
                    <div class="space-y-3">
                        <div class="text-center">
                            <div class="text-2xl font-bold text-blue-600">147%</div>
                            <div class="text-sm text-blue-700">Current Ratio</div>
                        </div>
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between">
                                <span class="text-blue-700">2020</span>
                                <span class="font-medium text-blue-900">142%</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-blue-700">2021</span>
                                <span class="font-medium text-blue-900">138%</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-blue-700">2022</span>
                                <span class="font-medium text-blue-900">145%</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-blue-700">2023</span>
                                <span class="font-medium text-blue-900">151%</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-blue-700">2024</span>
                                <span class="font-medium text-blue-900">147%</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Market Position Trend -->
                <div class="bg-green-50 border border-green-200 rounded-md p-4">
                    <h4 class="font-medium text-green-900 mb-3">Market Position Trend</h4>
                    <div class="space-y-3">
                        <div class="text-center">
                            <div class="text-2xl font-bold text-green-600">#8</div>
                            <div class="text-sm text-green-700">Current Rank</div>
                        </div>
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between">
                                <span class="text-green-700">2020</span>
                                <span class="font-medium text-green-900">#12</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-green-700">2021</span>
                                <span class="font-medium text-green-900">#11</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-green-700">2022</span>
                                <span class="font-medium text-green-900">#9</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-green-700">2023</span>
                                <span class="font-medium text-green-900">#7</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-green-700">2024</span>
                                <span class="font-medium text-green-900">#8</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Peer Comparison Table -->
            <div class="mt-6 bg-gray-50 border border-gray-200 rounded-md p-4">
                <h4 class="font-medium text-gray-900 mb-3">Top 10 Peer Comparison</h4>
                <div class="overflow-x-auto">
                    <table class="min-w-full text-sm">
                        <thead>
                            <tr class="border-b border-gray-200">
                                <th class="text-left py-2 text-gray-600">Company</th>
                                <th class="text-right py-2 text-gray-600">Solvency %</th>
                                <th class="text-right py-2 text-gray-600">ROE %</th>
                                <th class="text-right py-2 text-gray-600">Market Share %</th>
                                <th class="text-right py-2 text-gray-600">Growth %</th>
                            </tr>
                        </thead>
                        <tbody class="space-y-1">
                            <tr class="border-b border-gray-100 bg-blue-50">
                                <td class="py-2 text-gray-700 font-medium">Your Company</td>
                                <td class="text-right py-2 font-medium text-blue-600">147%</td>
                                <td class="text-right py-2 font-medium text-blue-600">12.5%</td>
                                <td class="text-right py-2 font-medium text-blue-600">3.2%</td>
                                <td class="text-right py-2 font-medium text-blue-600">+8.2%</td>
                            </tr>
                            <tr class="border-b border-gray-100">
                                <td class="py-2 text-gray-700">Insurer A</td>
                                <td class="text-right py-2">158%</td>
                                <td class="text-right py-2">15.2%</td>
                                <td class="text-right py-2">18.5%</td>
                                <td class="text-right py-2">+6.8%</td>
                            </tr>
                            <tr class="border-b border-gray-100">
                                <td class="py-2 text-gray-700">Insurer B</td>
                                <td class="text-right py-2">142%</td>
                                <td class="text-right py-2">11.8%</td>
                                <td class="text-right py-2">12.3%</td>
                                <td class="text-right py-2">+5.2%</td>
                            </tr>
                            <tr class="border-b border-gray-100">
                                <td class="py-2 text-gray-700">Insurer C</td>
                                <td class="text-right py-2">135%</td>
                                <td class="text-right py-2">9.5%</td>
                                <td class="text-right py-2">8.7%</td>
                                <td class="text-right py-2">+3.1%</td>
                            </tr>
                            <tr>
                                <td class="py-2 text-gray-700">Insurer D</td>
                                <td class="text-right py-2">129%</td>
                                <td class="text-right py-2">8.9%</td>
                                <td class="text-right py-2">6.2%</td>
                                <td class="text-right py-2">+2.4%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Competitive Analysis Summary -->
    <div class="mt-6 bg-white rounded-lg shadow-sm border border-gray-200 p-6">
        <div class="flex items-center mb-4">
            <i data-lucide="target" class="w-5 h-5 text-gray-600 mr-2"></i>
            <h2 class="text-lg font-semibold text-gray-900">Competitive Analysis Summary</h2>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="bg-green-50 border border-green-200 rounded-md p-4">
                <h4 class="font-medium text-green-900 mb-2">Strengths</h4>
                <ul class="space-y-1 text-sm text-green-700">
                    <li>• Above-average solvency ratio</li>
                    <li>• Strong premium growth</li>
                    <li>• High digital adoption</li>
                    <li>• Efficient expense management</li>
                </ul>
            </div>
            
            <div class="bg-yellow-50 border border-yellow-200 rounded-md p-4">
                <h4 class="font-medium text-yellow-900 mb-2">Areas for Improvement</h4>
                <ul class="space-y-1 text-sm text-yellow-700">
                    <li>• High claims ratio</li>
                    <li>• Customer retention below average</li>
                    <li>• Credit risk exposure</li>
                    <li>• Market share growth potential</li>
                </ul>
            </div>
            
            <div class="bg-blue-50 border border-blue-200 rounded-md p-4">
                <h4 class="font-medium text-blue-900 mb-2">Strategic Recommendations</h4>
                <ul class="space-y-1 text-sm text-blue-700">
                    <li>• Focus on claims management</li>
                    <li>• Improve customer retention</li>
                    <li>• Diversify credit portfolio</li>
                    <li>• Expand market presence</li>
                </ul>
            </div>
        </div>
    </div>
</div>
{% endblock %}
