# Generated by Django 4.2.24 on 2025-09-17 07:42

from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    dependencies = [
        ('core', '0002_ifrs17submission_file_type_and_more'),
    ]

    operations = [
        migrations.CreateModel(
            name='ReinsuranceHeld',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('reporting_period', models.DateField()),
                ('currency', models.CharField(choices=[('ZWL', 'Zimbabwe Dollar'), ('USD', 'US Dollar')], max_length=3)),
                ('reinsurance_assets', models.DecimalField(decimal_places=2, max_digits=15)),
                ('recoverable_amounts', models.DecimalField(decimal_places=2, max_digits=15)),
                ('expected_recoveries', models.DecimalField(decimal_places=2, max_digits=15)),
                ('proportional_reinsurance', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True)),
                ('non_proportional_reinsurance', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True)),
                ('facultative_reinsurance', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True)),
                ('treaty_reinsurance', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True)),
                ('domestic_reinsurers', models.DecimalField(decimal_places=2, max_digits=15)),
                ('international_reinsurers', models.DecimalField(decimal_places=2, max_digits=15)),
                ('total_reinsurance_held', models.DecimalField(decimal_places=2, max_digits=15)),
                ('risk_transfer_ratio', models.DecimalField(decimal_places=2, max_digits=5)),
                ('concentration_risk', models.DecimalField(decimal_places=2, max_digits=5)),
                ('counterparty_credit_risk', models.DecimalField(decimal_places=2, max_digits=5)),
                ('notes', models.TextField(blank=True)),
                ('institution', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='reinsurance_data', to='core.institution')),
            ],
            options={
                'ordering': ['-reporting_period'],
                'unique_together': {('institution', 'reporting_period', 'currency')},
            },
        ),
        migrations.CreateModel(
            name='InsuranceRevenue',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('reporting_period', models.DateField()),
                ('currency', models.CharField(choices=[('ZWL', 'Zimbabwe Dollar'), ('USD', 'US Dollar')], max_length=3)),
                ('insurance_revenue', models.DecimalField(decimal_places=2, max_digits=15)),
                ('service_revenue', models.DecimalField(decimal_places=2, max_digits=15)),
                ('total_revenue', models.DecimalField(decimal_places=2, max_digits=15)),
                ('contracts_fulfilled', models.IntegerField()),
                ('contracts_ongoing', models.IntegerField()),
                ('service_performance_ratio', models.DecimalField(decimal_places=2, max_digits=5)),
                ('life_insurance_revenue', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True)),
                ('health_insurance_revenue', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True)),
                ('general_insurance_revenue', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True)),
                ('notes', models.TextField(blank=True)),
                ('institution', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='revenue_data', to='core.institution')),
            ],
            options={
                'ordering': ['-reporting_period'],
                'unique_together': {('institution', 'reporting_period', 'currency')},
            },
        ),
        migrations.CreateModel(
            name='IFRS4Transition',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('reporting_period', models.DateField()),
                ('currency', models.CharField(choices=[('ZWL', 'Zimbabwe Dollar'), ('USD', 'US Dollar')], max_length=3)),
                ('ifrs4_liabilities', models.DecimalField(decimal_places=2, max_digits=15)),
                ('ifrs4_premiums', models.DecimalField(decimal_places=2, max_digits=15)),
                ('ifrs4_claims', models.DecimalField(decimal_places=2, max_digits=15)),
                ('ifrs17_liabilities', models.DecimalField(decimal_places=2, max_digits=15)),
                ('ifrs17_csm', models.DecimalField(decimal_places=2, max_digits=15)),
                ('ifrs17_risk_adjustment', models.DecimalField(decimal_places=2, max_digits=15)),
                ('liability_adjustment', models.DecimalField(decimal_places=2, max_digits=15)),
                ('equity_impact', models.DecimalField(decimal_places=2, max_digits=15)),
                ('pnl_impact', models.DecimalField(decimal_places=2, max_digits=15)),
                ('implementation_status', models.CharField(choices=[('planning', 'Planning Phase'), ('pilot', 'Pilot Testing'), ('implementation', 'Implementation'), ('completed', 'Completed'), ('monitoring', 'Monitoring')], max_length=20)),
                ('data_quality_score', models.DecimalField(decimal_places=2, max_digits=5)),
                ('process_maturity_score', models.DecimalField(decimal_places=2, max_digits=5)),
                ('system_readiness_score', models.DecimalField(decimal_places=2, max_digits=5)),
                ('notes', models.TextField(blank=True)),
                ('institution', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='ifrs4_transitions', to='core.institution')),
            ],
            options={
                'ordering': ['-reporting_period'],
                'unique_together': {('institution', 'reporting_period', 'currency')},
            },
        ),
        migrations.CreateModel(
            name='DiscountRates',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('reporting_period', models.DateField()),
                ('currency', models.CharField(choices=[('ZWL', 'Zimbabwe Dollar'), ('USD', 'US Dollar')], max_length=3)),
                ('risk_free_rate', models.DecimalField(decimal_places=2, max_digits=5)),
                ('liquidity_premium', models.DecimalField(decimal_places=2, max_digits=5)),
                ('credit_spread', models.DecimalField(decimal_places=2, max_digits=5)),
                ('total_discount_rate', models.DecimalField(decimal_places=2, max_digits=5)),
                ('finance_income', models.DecimalField(decimal_places=2, max_digits=15)),
                ('finance_expense', models.DecimalField(decimal_places=2, max_digits=15)),
                ('net_finance_result', models.DecimalField(decimal_places=2, max_digits=15)),
                ('rate_sensitivity_1bp', models.DecimalField(decimal_places=2, max_digits=15)),
                ('rate_sensitivity_10bp', models.DecimalField(decimal_places=2, max_digits=15)),
                ('rate_sensitivity_100bp', models.DecimalField(decimal_places=2, max_digits=15)),
                ('usd_discount_rate', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('zwl_discount_rate', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('exchange_rate', models.DecimalField(blank=True, decimal_places=4, max_digits=10, null=True)),
                ('notes', models.TextField(blank=True)),
                ('institution', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='discount_rates', to='core.institution')),
            ],
            options={
                'ordering': ['-reporting_period'],
                'unique_together': {('institution', 'reporting_period', 'currency')},
            },
        ),
        migrations.CreateModel(
            name='DataQualityCheck',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('reporting_period', models.DateField()),
                ('currency', models.CharField(choices=[('ZWL', 'Zimbabwe Dollar'), ('USD', 'US Dollar')], max_length=3)),
                ('completeness_score', models.DecimalField(decimal_places=2, max_digits=5)),
                ('accuracy_score', models.DecimalField(decimal_places=2, max_digits=5)),
                ('consistency_score', models.DecimalField(decimal_places=2, max_digits=5)),
                ('timeliness_score', models.DecimalField(decimal_places=2, max_digits=5)),
                ('overall_quality_score', models.DecimalField(decimal_places=2, max_digits=5)),
                ('data_governance_score', models.DecimalField(decimal_places=2, max_digits=5)),
                ('control_effectiveness', models.DecimalField(decimal_places=2, max_digits=5)),
                ('audit_trail_completeness', models.DecimalField(decimal_places=2, max_digits=5)),
                ('regulatory_compliance', models.DecimalField(decimal_places=2, max_digits=5)),
                ('exchange_rate_consistency', models.BooleanField(default=True)),
                ('currency_conversion_accuracy', models.DecimalField(decimal_places=2, max_digits=5)),
                ('multi_currency_reconciliation', models.BooleanField(default=True)),
                ('missing_data_points', models.IntegerField(default=0)),
                ('data_anomalies', models.IntegerField(default=0)),
                ('validation_errors', models.IntegerField(default=0)),
                ('critical_issues', models.IntegerField(default=0)),
                ('issues_resolved', models.IntegerField(default=0)),
                ('pending_issues', models.IntegerField(default=0)),
                ('remediation_plan', models.TextField(blank=True)),
                ('notes', models.TextField(blank=True)),
                ('institution', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='data_quality_checks', to='core.institution')),
            ],
            options={
                'ordering': ['-reporting_period'],
                'unique_together': {('institution', 'reporting_period', 'currency')},
            },
        ),
        migrations.CreateModel(
            name='CSMProfitability',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('reporting_period', models.DateField()),
                ('currency', models.CharField(choices=[('ZWL', 'Zimbabwe Dollar'), ('USD', 'US Dollar')], max_length=3)),
                ('opening_csm', models.DecimalField(decimal_places=2, max_digits=15)),
                ('new_contracts_csm', models.DecimalField(decimal_places=2, max_digits=15)),
                ('interest_accretion', models.DecimalField(decimal_places=2, max_digits=15)),
                ('experience_adjustments', models.DecimalField(decimal_places=2, max_digits=15)),
                ('csm_release', models.DecimalField(decimal_places=2, max_digits=15)),
                ('closing_csm', models.DecimalField(decimal_places=2, max_digits=15)),
                ('csm_profit_margin', models.DecimalField(decimal_places=2, max_digits=5)),
                ('csm_roi', models.DecimalField(decimal_places=2, max_digits=5)),
                ('expected_profit', models.DecimalField(decimal_places=2, max_digits=15)),
                ('actual_profit', models.DecimalField(decimal_places=2, max_digits=15)),
                ('profit_variance', models.DecimalField(decimal_places=2, max_digits=15)),
                ('profitable_contracts', models.IntegerField()),
                ('loss_making_contracts', models.IntegerField()),
                ('break_even_contracts', models.IntegerField()),
                ('notes', models.TextField(blank=True)),
                ('institution', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='csm_profitability', to='core.institution')),
            ],
            options={
                'ordering': ['-reporting_period'],
                'unique_together': {('institution', 'reporting_period', 'currency')},
            },
        ),
        migrations.CreateModel(
            name='ContractGrouping',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('reporting_period', models.DateField()),
                ('currency', models.CharField(choices=[('ZWL', 'Zimbabwe Dollar'), ('USD', 'US Dollar')], max_length=3)),
                ('product_line', models.CharField(max_length=50)),
                ('contract_type', models.CharField(max_length=50)),
                ('measurement_model', models.CharField(choices=[('GMM', 'General Measurement Model'), ('PAA', 'Premium Allocation Approach'), ('VFA', 'Variable Fee Approach')], max_length=10)),
                ('number_of_contracts', models.IntegerField()),
                ('total_contract_value', models.DecimalField(decimal_places=2, max_digits=15)),
                ('average_contract_value', models.DecimalField(decimal_places=2, max_digits=15)),
                ('contracts_per_group', models.IntegerField()),
                ('materiality_threshold', models.DecimalField(decimal_places=2, max_digits=15)),
                ('grouping_efficiency', models.DecimalField(decimal_places=2, max_digits=5)),
                ('risk_profile', models.CharField(choices=[('low', 'Low Risk'), ('medium', 'Medium Risk'), ('high', 'High Risk')], max_length=20)),
                ('volatility_score', models.DecimalField(decimal_places=2, max_digits=5)),
                ('correlation_score', models.DecimalField(decimal_places=2, max_digits=5)),
                ('notes', models.TextField(blank=True)),
                ('institution', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='contract_groupings', to='core.institution')),
            ],
            options={
                'ordering': ['-reporting_period', 'product_line'],
                'unique_together': {('institution', 'reporting_period', 'currency', 'product_line', 'contract_type')},
            },
        ),
    ]
